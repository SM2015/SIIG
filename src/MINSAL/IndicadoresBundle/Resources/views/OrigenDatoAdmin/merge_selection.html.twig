{% extends 'IndicadoresBundle::standard_layout.html.twig' %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/indicadores/js/OrigenDatoAdmin/merge.js') }}" type="text/javascript"></script>    
{% endblock %}
{% block content %}
    <form action="{{ admin.generateUrl('merge_save') }}" method="post">
        <fieldset>
            <legend>{{'datos_origen_fusionado'|trans}}Datos del origen fusionado</legend>
                <label for="nombre">{{'nombre'|trans}}</label><input type="text" name='nombre' placeholder="{{'nombre_origen_fusionado'|trans}}" required="true"/>
                <label for="descripcion">{{'descripcion'|trans}}</label><textarea type="text" name='descripcion' placeholder="{{'descripcion_origen_fusionado'|trans}}" ></textarea>                
        </fieldset>
    <TABLE border=1 class='table table-hover'>
        <caption><h4>{{'mensaje_fusionar'|trans}}</h4></caption>
        <THEAD>
            <TR>
                <TH></TH>
                <TH>{{'origen_fusionado'|trans}}</TH>
                {% for origen in origen_dato  %}
                    <TH>
                        {{origen.nombre}}
                        <input type="hidden" value="{{origen.id}}" name='origenes_fusionados[]' />
                    </TH>
                {% endfor %}
            </TR>
        </THEAD>
        <TBODY>
            {% for campo in campos %}
            <TR>
                <TD>
                    <input type="checkbox" value="{{campo.value}}" name="campos_fusionar[]" checked="true"/>
                </TD>                
                <TD>
                    {{campo.nombre}}
                </TD>
                {% for dato in campo.datos %}
                <TD>{{dato.nombre}} / {{dato.significado}}</TD>
                {% endfor %}
            </TR>
            {% endfor %}
        </TBODY>
    </table>
    <div class="well form-actions">
        <input class="btn btn-primary" type="submit" value="{{'guardar'|trans}}" name="btn_save">
    </div>
    </form>
{% endblock %}